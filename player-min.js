void function(j){j.wandoujia=j.wandoujia||{};j.wandoujia.audio=j.wandoujia.audio||{};var f=j.NativeCallback||{};f.sendToNative=f.sendToNative||function(){};var b;var g=5000;var e=0;var a=false;var c=false;function l(p,o){if(!p){p={}}for(var n in o){p[n]=o[n]}}l(j.wandoujia.audio,{audioDom:b,hasAudio:function(){return !!b},play:function(){if(!a){a=true}c=false;b.play()},pause:function(){c=false;b.pause()},stop:function(){b.pause();b.currentTime=1},progress:function(n){if(arguments.length){b.currentTime=Number(n)}else{f.sendToNative("progress",JSON.stringify({progress:b.currentTime}))}}});function m(){b.addEventListener("loadedmetadata",function(){});b.addEventListener("play",function(){f.sendToNative("onplay",JSON.stringify({isUser:c}));c=true});b.addEventListener("ended",function(){if(a){f.sendToNative("onended","")}});b.addEventListener("pause",function(){if(a){f.sendToNative("onpause",JSON.stringify({isUser:c}));c=true}});b.addEventListener("error",function(n){f.sendToNative("onerror",JSON.stringify(n))});b.addEventListener("durationchange",function(){f.sendToNative("duration",JSON.stringify({duration:b.duration}))})}function h(){b=document.documentElement.getElementsByTagName("audio")[0];if(b){j.wandoujia.audio.audioDom=b;d()}else{if(e<g){setTimeout(function(){h();e+=50},50)}else{f.sendToNative("onerror",JSON.stringify({error:"timeout"}))}}}function d(){var o=function(){var r=["163.com"];for(var u=0,s=r.length;u<s;u++){if(location.host.indexOf(r[u])!==-1&&!b.src){var t=document.querySelector("a");var v=document.createEvent("MouseEvents");v.initEvent("click",false,false);t.dispatchEvent(v)}}};o();var q=10;var p=1;var n=function(){if(!b.src||b.src.length===0){o();setTimeout(function(){p+=1;if(p>=q){}else{n()}},50)}else{if(b.src&&!a){b.pause()}m();if(b.paused&&!c){f.sendToNative("onready",JSON.stringify({source:i()}))}}};setTimeout(function(){n()},50)}function i(){var o={"kugou.com":"kugou","duomi.com":"duomi","163.com":"163","xiami.com":"xiami","qq.com":"qq","baidu.com":"baidu","dongting.com":"dongting"};for(var n in o){if(location.host.indexOf(n)!==-1){return o[n]}}}var k=function(){var p=["qq.com"];for(var o=0,n=p.length;o<n;o++){if(location.host.indexOf(p[o])!==-1){var q=document.getElementById("lrc_js"),r=q.cloneNode(true);q.parentNode.replaceChild(r,q);document.getElementById("lrc_js").addEventListener("click",function(){downQQMusic()})}}};k();h()}(window);